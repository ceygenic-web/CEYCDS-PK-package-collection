"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[371],{2072:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>t,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"packages/composer-packages/CEYCDS-PK-COMPOSER-003-blog/v2-guide","title":"Version 2 Architecture Guide","description":"Architecture documentation for developers building Version 2","source":"@site/docs/packages/composer-packages/CEYCDS-PK-COMPOSER-003-blog/v2-guide.md","sourceDirName":"packages/composer-packages/CEYCDS-PK-COMPOSER-003-blog","slug":"/packages/composer-packages/CEYCDS-PK-COMPOSER-003-blog/v2-guide","permalink":"/CEYCDS-PK-package-collection/docs/packages/composer-packages/CEYCDS-PK-COMPOSER-003-blog/v2-guide","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Version 2 Architecture Guide","description":"Architecture documentation for developers building Version 2"},"sidebar":"tutorialSidebar","previous":{"title":"Developer Guide","permalink":"/CEYCDS-PK-package-collection/docs/packages/composer-packages/CEYCDS-PK-COMPOSER-003-blog/developer-guide"},"next":{"title":"CEYPK Package Template","permalink":"/CEYCDS-PK-package-collection/docs/packages/composer-packages/CEYPK-PackageTemplate"}}');var r=s(4848),l=s(8453);const d={sidebar_position:3,title:"Version 2 Architecture Guide",description:"Architecture documentation for developers building Version 2"},o=void 0,t={},c=[{value:"Version 1 Architecture Documentation \u2013 <code>ceygenic/blog-core</code>",id:"version-1-architecture-documentation--ceygenicblog-core",level:2},{value:"1. Core Architecture Overview",id:"1-core-architecture-overview",level:3},{value:"1.1. Service Provider Pattern",id:"11-service-provider-pattern",level:4},{value:"1.2. Facade Pattern",id:"12-facade-pattern",level:4},{value:"1.3. Core Class",id:"13-core-class",level:4},{value:"2. Repository Pattern Implementation",id:"2-repository-pattern-implementation",level:3},{value:"2.1. Repository Interfaces",id:"21-repository-interfaces",level:4},{value:"2.2. Repository Implementations",id:"22-repository-implementations",level:4},{value:"2.3. Driver-Based Binding",id:"23-driver-based-binding",level:4},{value:"3. Models and Database Structure",id:"3-models-and-database-structure",level:3},{value:"3.1. Eloquent Models",id:"31-eloquent-models",level:4},{value:"3.2. Database Migrations",id:"32-database-migrations",level:4},{value:"3.3. Database Connection",id:"33-database-connection",level:4},{value:"3.4. Key Database Design Decisions",id:"34-key-database-design-decisions",level:4},{value:"4. Traits and Shared Behaviors",id:"4-traits-and-shared-behaviors",level:3},{value:"4.1. <code>HasSlug</code>",id:"41-hasslug",level:4},{value:"4.2. <code>HasReadingTime</code>",id:"42-hasreadingtime",level:4},{value:"4.3. <code>BlogAuthor</code>",id:"43-blogauthor",level:4},{value:"4.4. <code>HasCache</code>",id:"44-hascache",level:4},{value:"5. HTTP Layer (API)",id:"5-http-layer-api",level:3},{value:"5.1. Route Structure",id:"51-route-structure",level:4},{value:"5.2. Controllers",id:"52-controllers",level:4},{value:"5.3. JSON Resources",id:"53-json-resources",level:4},{value:"6. Configuration System",id:"6-configuration-system",level:3},{value:"6.1. Config File",id:"61-config-file",level:4},{value:"6.2. Environment Variables",id:"62-environment-variables",level:4},{value:"7. Post Management Features",id:"7-post-management-features",level:3},{value:"7.1. Status Management",id:"71-status-management",level:4},{value:"7.2. Post Actions",id:"72-post-actions",level:4},{value:"7.3. Query Helpers",id:"73-query-helpers",level:4},{value:"8. Category Ordering System",id:"8-category-ordering-system",level:3},{value:"8.1. Order Field",id:"81-order-field",level:4},{value:"8.2. Order Management Methods",id:"82-order-management-methods",level:4},{value:"9. Tag System",id:"9-tag-system",level:3},{value:"9.1. Tag Operations",id:"91-tag-operations",level:4},{value:"9.2. Tag Endpoints",id:"92-tag-endpoints",level:4},{value:"10. Media Library",id:"10-media-library",level:3},{value:"10.1. Media Model",id:"101-media-model",level:4},{value:"10.2. Media Operations",id:"102-media-operations",level:4},{value:"11. Search and Filtering",id:"11-search-and-filtering",level:3},{value:"11.1. Filtering",id:"111-filtering",level:4},{value:"11.2. Sorting",id:"112-sorting",level:4},{value:"11.3. Pagination",id:"113-pagination",level:4},{value:"12. Testing Structure",id:"12-testing-structure",level:3},{value:"12.1. API Tests",id:"121-api-tests",level:4},{value:"12.2. Feature Tests",id:"122-feature-tests",level:4},{value:"13. Key Design Decisions in Version 1",id:"13-key-design-decisions-in-version-1",level:3},{value:"13.1. Headless Architecture",id:"131-headless-architecture",level:4},{value:"13.2. Dual Storage Drivers",id:"132-dual-storage-drivers",level:4},{value:"13.3. JSON Style Responses",id:"133-json-style-responses",level:4},{value:"13.4. No Soft Deletes",id:"134-no-soft-deletes",level:4},{value:"13.5. Auto-Loading Migrations",id:"135-auto-loading-migrations",level:4},{value:"13.6. Rate Limiting",id:"136-rate-limiting",level:4},{value:"14. Extension Points in Version 1",id:"14-extension-points-in-version-1",level:3},{value:"14.1. Model Overrides",id:"141-model-overrides",level:4},{value:"14.2. Repository Overrides",id:"142-repository-overrides",level:4},{value:"14.3. Config Customization",id:"143-config-customization",level:4},{value:"14.4. Trait Usage",id:"144-trait-usage",level:4},{value:"15. Known Limitations in Version 1",id:"15-known-limitations-in-version-1",level:3},{value:"15.1. Sanity Driver",id:"151-sanity-driver",level:4},{value:"15.2. No Events/Hooks",id:"152-no-eventshooks",level:4},{value:"15.3. No Service Layer",id:"153-no-service-layer",level:4},{value:"15.4. Limited Extensibility",id:"154-limited-extensibility",level:4},{value:"16. Code Organization",id:"16-code-organization",level:3},{value:"16.1. Directory Structure",id:"161-directory-structure",level:4},{value:"16.2. Test Organization",id:"162-test-organization",level:4},{value:"17. Dependencies",id:"17-dependencies",level:3},{value:"18. Summary for Version 2 Developers",id:"18-summary-for-version-2-developers",level:3}];function a(e){const i={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.h2,{id:"version-1-architecture-documentation--ceygenicblog-core",children:["Version 1 Architecture Documentation \u2013 ",(0,r.jsx)(i.code,{children:"ceygenic/blog-core"})]}),"\n",(0,r.jsxs)(i.p,{children:["This document documents ",(0,r.jsx)(i.strong,{children:"what was implemented in Version 1"})," to help developers who will build ",(0,r.jsx)(i.strong,{children:"Version 2"}),". It focuses on architecture, design decisions, and implementation details rather than prescribing future changes."]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"1-core-architecture-overview",children:"1. Core Architecture Overview"}),"\n",(0,r.jsxs)(i.p,{children:["Version 1 implements a ",(0,r.jsx)(i.strong,{children:"headless blog engine"})," with the following structure:"]}),"\n",(0,r.jsx)(i.h4,{id:"11-service-provider-pattern",children:"1.1. Service Provider Pattern"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:(0,r.jsx)(i.code,{children:"BlogServiceProvider"})})," (",(0,r.jsx)(i.code,{children:"src/BlogServiceProvider.php"}),"):","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Merges config from ",(0,r.jsx)(i.code,{children:"config/blog.php"})]}),"\n",(0,r.jsxs)(i.li,{children:["Registers repository bindings based on driver (",(0,r.jsx)(i.code,{children:"db"})," or ",(0,r.jsx)(i.code,{children:"sanity"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:["Binds the ",(0,r.jsx)(i.code,{children:"Blog"})," core class as a singleton under the ",(0,r.jsx)(i.code,{children:"'blog'"})," key"]}),"\n",(0,r.jsxs)(i.li,{children:["Auto-loads migrations from ",(0,r.jsx)(i.code,{children:"database/migrations/"})]}),"\n",(0,r.jsxs)(i.li,{children:["Loads API routes from ",(0,r.jsx)(i.code,{children:"routes/api.php"})]}),"\n",(0,r.jsxs)(i.li,{children:["Registers Artisan commands (e.g., ",(0,r.jsx)(i.code,{children:"blog:verify-dual-storage"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"12-facade-pattern",children:"1.2. Facade Pattern"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsxs)(i.strong,{children:[(0,r.jsx)(i.code,{children:"Blog"})," Facade"]})," (",(0,r.jsx)(i.code,{children:"src/Facades/Blog.php"}),"):","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Provides static access to the core ",(0,r.jsx)(i.code,{children:"Blog"})," class"]}),"\n",(0,r.jsxs)(i.li,{children:["Used as: ",(0,r.jsx)(i.code,{children:"Blog::posts()"}),", ",(0,r.jsx)(i.code,{children:"Blog::createDraft()"}),", etc."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"13-core-class",children:"1.3. Core Class"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:(0,r.jsx)(i.code,{children:"Blog"})})," (",(0,r.jsx)(i.code,{children:"src/Blog.php"}),"):","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Holds three repository instances (Post, Category, Tag)"}),"\n",(0,r.jsx)(i.li,{children:"Exposes convenience methods that delegate to repositories"}),"\n",(0,r.jsxs)(i.li,{children:["Methods include: ",(0,r.jsx)(i.code,{children:"createDraft()"}),", ",(0,r.jsx)(i.code,{children:"publishPost()"}),", ",(0,r.jsx)(i.code,{children:"getCategoriesOrdered()"}),", ",(0,r.jsx)(i.code,{children:"searchTags()"}),", etc."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"2-repository-pattern-implementation",children:"2. Repository Pattern Implementation"}),"\n",(0,r.jsxs)(i.p,{children:["Version 1 uses a ",(0,r.jsx)(i.strong,{children:"repository pattern"})," to abstract data access:"]}),"\n",(0,r.jsx)(i.h4,{id:"21-repository-interfaces",children:"2.1. Repository Interfaces"}),"\n",(0,r.jsxs)(i.p,{children:["Located in ",(0,r.jsx)(i.code,{children:"src/Contracts/Repositories/"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"PostRepositoryInterface"})," \u2013 defines all post operations"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"CategoryRepositoryInterface"})," \u2013 defines category operations"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"TagRepositoryInterface"})," \u2013 defines tag operations"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"22-repository-implementations",children:"2.2. Repository Implementations"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Eloquent Repositories"})," (",(0,r.jsx)(i.code,{children:"src/Repositories/Eloquent/"}),"):"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"EloquentPostRepository"})," \u2013 full CRUD + post management (publish, archive, duplicate, etc.)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"EloquentCategoryRepository"})," \u2013 CRUD + order management (moveUp, moveDown, setOrder)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"EloquentTagRepository"})," \u2013 CRUD + search and popular tags"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Sanity Repositories"})," (",(0,r.jsx)(i.code,{children:"src/Repositories/Sanity/"}),"):"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"SanityPostRepository"})," \u2013 read operations via GROQ, write operations throw ",(0,r.jsx)(i.code,{children:"RuntimeException"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"SanityCategoryRepository"})," \u2013 read operations, write operations stubbed"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"SanityTagRepository"})," \u2013 read operations, write operations stubbed"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"23-driver-based-binding",children:"2.3. Driver-Based Binding"}),"\n",(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.code,{children:"BlogServiceProvider::registerRepositories()"})," method:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Reads ",(0,r.jsx)(i.code,{children:"config('blog.driver')"})," (defaults to ",(0,r.jsx)(i.code,{children:"'db'"}),")"]}),"\n",(0,r.jsx)(i.li,{children:"Binds interfaces to Eloquent or Sanity implementations accordingly"}),"\n",(0,r.jsx)(i.li,{children:"This allows switching storage backends via configuration"}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"3-models-and-database-structure",children:"3. Models and Database Structure"}),"\n",(0,r.jsx)(i.h4,{id:"31-eloquent-models",children:"3.1. Eloquent Models"}),"\n",(0,r.jsxs)(i.p,{children:["Located in ",(0,r.jsx)(i.code,{children:"src/Models/"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"Post"})," \u2013 blog posts with status (draft, published, archived), scheduling, slugs"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"Category"})," \u2013 categories with ordering support"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"Tag"})," \u2013 tags with many-to-many relationship to posts"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"AuthorProfile"})," \u2013 extends user model with bio, avatar, social links"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"Media"})," \u2013 media library for file uploads"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"32-database-migrations",children:"3.2. Database Migrations"}),"\n",(0,r.jsxs)(i.p,{children:["Located in ",(0,r.jsx)(i.code,{children:"database/migrations/"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"create_users_table.php"})," \u2013 only creates if table doesn't exist (prevents conflicts)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"create_categories_table.php"})," \u2013 includes ",(0,r.jsx)(i.code,{children:"order"})," field for manual ordering"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"create_tags_table.php"})," \u2013 simple name/slug structure"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"create_posts_table.php"})," \u2013 includes ",(0,r.jsx)(i.code,{children:"status"}),", ",(0,r.jsx)(i.code,{children:"published_at"}),", ",(0,r.jsx)(i.code,{children:"archived_at"}),", indexes"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"create_post_tag_table.php"})," \u2013 pivot table for many-to-many"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"create_author_profiles_table.php"})," \u2013 extends users with blog-specific fields"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"create_media_table.php"})," \u2013 stores file paths, disk, metadata"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"33-database-connection",children:"3.3. Database Connection"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Default connection"}),": All models use Laravel's default database connection"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"No explicit connection"}),": Models don't set ",(0,r.jsx)(i.code,{children:"$connection"})," property, relying on Laravel's default"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Custom connections"}),": Can be configured by extending models and setting ",(0,r.jsx)(i.code,{children:"$connection"})," property"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Connection configuration"}),": Handled via Laravel's standard ",(0,r.jsx)(i.code,{children:"config/database.php"})," configuration"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"34-key-database-design-decisions",children:"3.4. Key Database Design Decisions"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Indexes"}),": Added on ",(0,r.jsx)(i.code,{children:"status"}),", ",(0,r.jsx)(i.code,{children:"published_at"}),", ",(0,r.jsx)(i.code,{children:"category_id"}),", ",(0,r.jsx)(i.code,{children:"author_id"})," for performance"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Soft deletes"}),": Not used; posts use ",(0,r.jsx)(i.code,{children:"archived_at"})," instead"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"User table"}),": Package checks for existing ",(0,r.jsx)(i.code,{children:"users"})," table before creating"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"4-traits-and-shared-behaviors",children:"4. Traits and Shared Behaviors"}),"\n",(0,r.jsxs)(i.p,{children:["Version 1 includes reusable traits in ",(0,r.jsx)(i.code,{children:"src/Traits/"}),":"]}),"\n",(0,r.jsxs)(i.h4,{id:"41-hasslug",children:["4.1. ",(0,r.jsx)(i.code,{children:"HasSlug"})]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Auto-generates unique slugs from ",(0,r.jsx)(i.code,{children:"title"})," or ",(0,r.jsx)(i.code,{children:"name"})," fields"]}),"\n",(0,r.jsxs)(i.li,{children:["Listens to model ",(0,r.jsx)(i.code,{children:"creating"})," and ",(0,r.jsx)(i.code,{children:"updating"})," events"]}),"\n",(0,r.jsxs)(i.li,{children:["Used by ",(0,r.jsx)(i.code,{children:"Post"}),", ",(0,r.jsx)(i.code,{children:"Category"}),", and ",(0,r.jsx)(i.code,{children:"Tag"})," models"]}),"\n"]}),"\n",(0,r.jsxs)(i.h4,{id:"42-hasreadingtime",children:["4.2. ",(0,r.jsx)(i.code,{children:"HasReadingTime"})]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Calculates reading time from ",(0,r.jsx)(i.code,{children:"content"})," field"]}),"\n",(0,r.jsxs)(i.li,{children:["Uses ",(0,r.jsx)(i.code,{children:"BLOG_READING_TIME_WPM"})," config (default: 200 words per minute)"]}),"\n",(0,r.jsxs)(i.li,{children:["Listens to model ",(0,r.jsx)(i.code,{children:"saving"})," event"]}),"\n",(0,r.jsxs)(i.li,{children:["Used by ",(0,r.jsx)(i.code,{children:"Post"})," model"]}),"\n"]}),"\n",(0,r.jsxs)(i.h4,{id:"43-blogauthor",children:["4.3. ",(0,r.jsx)(i.code,{children:"BlogAuthor"})]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Extends host app's ",(0,r.jsx)(i.code,{children:"User"})," model with blog-specific functionality"]}),"\n",(0,r.jsxs)(i.li,{children:["Adds relationships: ",(0,r.jsx)(i.code,{children:"authorProfile"})," (hasOne), ",(0,r.jsx)(i.code,{children:"blogPosts"})," (hasMany)"]}),"\n",(0,r.jsxs)(i.li,{children:["Adds accessors: ",(0,r.jsx)(i.code,{children:"bio"}),", ",(0,r.jsx)(i.code,{children:"avatar"}),", ",(0,r.jsx)(i.code,{children:"social_links"})]}),"\n",(0,r.jsx)(i.li,{children:"Optional trait for host apps to include"}),"\n"]}),"\n",(0,r.jsxs)(i.h4,{id:"44-hascache",children:["4.4. ",(0,r.jsx)(i.code,{children:"HasCache"})]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Simple caching helper for repositories"}),"\n",(0,r.jsxs)(i.li,{children:["Provides ",(0,r.jsx)(i.code,{children:"remember()"})," and ",(0,r.jsx)(i.code,{children:"forget()"})," methods"]}),"\n",(0,r.jsx)(i.li,{children:"Uses Laravel's cache with configurable TTL and prefix"}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"5-http-layer-api",children:"5. HTTP Layer (API)"}),"\n",(0,r.jsx)(i.h4,{id:"51-route-structure",children:"5.1. Route Structure"}),"\n",(0,r.jsxs)(i.p,{children:["Routes defined in ",(0,r.jsx)(i.code,{children:"routes/api.php"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Public routes"})," (",(0,r.jsx)(i.code,{children:"/api/blog/*"}),"):"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Rate-limited to 120 requests/minute"}),"\n",(0,r.jsx)(i.li,{children:"No authentication required"}),"\n",(0,r.jsx)(i.li,{children:"Endpoints: posts, categories, tags, authors, search"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Admin routes"})," (",(0,r.jsx)(i.code,{children:"/api/blog/admin/*"}),"):"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Rate-limited to 60 requests/minute"}),"\n",(0,r.jsxs)(i.li,{children:["Protected by ",(0,r.jsx)(i.code,{children:"auth:sanctum"})," middleware"]}),"\n",(0,r.jsx)(i.li,{children:"Full CRUD + management actions (publish, archive, duplicate, etc.)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"52-controllers",children:"5.2. Controllers"}),"\n",(0,r.jsxs)(i.p,{children:["Located in ",(0,r.jsx)(i.code,{children:"src/Http/Controllers/Api/"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Public controllers"})," (",(0,r.jsx)(i.code,{children:"Public/"}),"):"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"PostController"})," \u2013 index, show, search"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"CategoryController"})," \u2013 index, posts by category"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"TagController"})," \u2013 index, popular, posts by tag"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"AuthorController"})," \u2013 show, posts by author"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Admin controllers"})," (",(0,r.jsx)(i.code,{children:"Admin/"}),"):"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"PostController"})," \u2013 full CRUD + publish, archive, duplicate, schedule, etc."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"CategoryController"})," \u2013 CRUD + order management"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"MediaController"})," \u2013 upload, index, show, update, destroy"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.h4,{id:"53-json-resources",children:["5.3. JSON",":API"," Resources"]}),"\n",(0,r.jsxs)(i.p,{children:["Located in ",(0,r.jsx)(i.code,{children:"src/Http/Resources/"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Resources follow JSON",":API-style"," structure"]}),"\n",(0,r.jsx)(i.li,{children:"Used to transform models for API responses"}),"\n",(0,r.jsx)(i.li,{children:"Includes relationships and metadata"}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"6-configuration-system",children:"6. Configuration System"}),"\n",(0,r.jsx)(i.h4,{id:"61-config-file",children:"6.1. Config File"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.code,{children:"config/blog.php"})," includes:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Driver"}),": ",(0,r.jsx)(i.code,{children:"db"})," or ",(0,r.jsx)(i.code,{children:"sanity"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Reading time"}),": WPM setting"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Author"}),": User model class path"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Models"}),": Overridable model classes"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Media"}),": Disk, directory, max size settings"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Cache"}),": Enabled flag, TTL, prefix"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"62-environment-variables",children:"6.2. Environment Variables"}),"\n",(0,r.jsxs)(i.p,{children:["Version 1 uses these ",(0,r.jsx)(i.code,{children:".env"})," variables:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"BLOG_ENABLED"})," \u2013 enable/disable package"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"BLOG_DRIVER"})," \u2013 storage driver"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"BLOG_READING_TIME_WPM"})," \u2013 reading time calculation"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"BLOG_USER_MODEL"})," \u2013 author user model"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"BLOG_MEDIA_*"})," \u2013 media configuration"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"BLOG_CACHE_*"})," \u2013 cache configuration"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"SANITY_*"})," \u2013 Sanity CMS credentials (if using Sanity driver)"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"7-post-management-features",children:"7. Post Management Features"}),"\n",(0,r.jsx)(i.p,{children:"Version 1 implements these post management operations:"}),"\n",(0,r.jsx)(i.h4,{id:"71-status-management",children:"7.1. Status Management"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Draft"}),": Created with ",(0,r.jsx)(i.code,{children:"status = 'draft'"}),", ",(0,r.jsx)(i.code,{children:"published_at = null"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Published"}),": ",(0,r.jsx)(i.code,{children:"status = 'published'"}),", ",(0,r.jsx)(i.code,{children:"published_at"})," set"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Archived"}),": ",(0,r.jsx)(i.code,{children:"status = 'archived'"}),", ",(0,r.jsx)(i.code,{children:"archived_at"})," set"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Scheduled"}),": ",(0,r.jsx)(i.code,{children:"status = 'scheduled'"}),", ",(0,r.jsx)(i.code,{children:"published_at"})," in future"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"72-post-actions",children:"7.2. Post Actions"}),"\n",(0,r.jsxs)(i.p,{children:["Implemented in ",(0,r.jsx)(i.code,{children:"EloquentPostRepository"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"createDraft()"})," \u2013 creates post as draft"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"publish()"})," \u2013 publishes post, sets ",(0,r.jsx)(i.code,{children:"published_at"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"unpublish()"})," \u2013 reverts to draft"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"toggleStatus()"})," \u2013 switches between draft/published"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"schedule()"})," \u2013 schedules for future publication"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"duplicate()"})," \u2013 creates copy with new slug"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"archive()"})," \u2013 archives post"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"restore()"})," \u2013 restores from archive"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"73-query-helpers",children:"7.3. Query Helpers"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"getPublished()"})," \u2013 only published posts"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"getDrafts()"})," \u2013 only drafts"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"getScheduled()"})," \u2013 only scheduled posts"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"getArchived()"})," \u2013 only archived posts"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"8-category-ordering-system",children:"8. Category Ordering System"}),"\n",(0,r.jsx)(i.p,{children:"Version 1 implements manual category ordering:"}),"\n",(0,r.jsx)(i.h4,{id:"81-order-field",children:"8.1. Order Field"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"categories"})," table includes ",(0,r.jsx)(i.code,{children:"order"})," integer field"]}),"\n",(0,r.jsx)(i.li,{children:"Categories can be manually ordered"}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"82-order-management-methods",children:"8.2. Order Management Methods"}),"\n",(0,r.jsxs)(i.p,{children:["In ",(0,r.jsx)(i.code,{children:"EloquentCategoryRepository"}),":"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"allOrdered()"})," \u2013 returns categories sorted by ",(0,r.jsx)(i.code,{children:"order"})]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"moveUp()"})," \u2013 decreases order (moves up)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"moveDown()"})," \u2013 increases order (moves down)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"setOrder()"})," \u2013 sets specific order value"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"9-tag-system",children:"9. Tag System"}),"\n",(0,r.jsx)(i.p,{children:"Version 1 includes tag features:"}),"\n",(0,r.jsx)(i.h4,{id:"91-tag-operations",children:"9.1. Tag Operations"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Many-to-many relationship with posts via ",(0,r.jsx)(i.code,{children:"post_tag"})," pivot table"]}),"\n",(0,r.jsxs)(i.li,{children:["Auto-complete search via ",(0,r.jsx)(i.code,{children:"search()"})," method"]}),"\n",(0,r.jsxs)(i.li,{children:["Popular tags via ",(0,r.jsx)(i.code,{children:"getPopular()"})," method (based on post count)"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"92-tag-endpoints",children:"9.2. Tag Endpoints"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"GET /api/blog/tags"})," \u2013 list/search tags"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"GET /api/blog/tags/popular"})," \u2013 popular tags"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"GET /api/blog/tags/{tag}/posts"})," \u2013 posts by tag"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"10-media-library",children:"10. Media Library"}),"\n",(0,r.jsx)(i.h4,{id:"101-media-model",children:"10.1. Media Model"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"Media"})," model stores file metadata"]}),"\n",(0,r.jsxs)(i.li,{children:["Uses Laravel ",(0,r.jsx)(i.code,{children:"Storage"})," facade"]}),"\n",(0,r.jsx)(i.li,{children:"Configurable disk (local, s3, etc.)"}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"102-media-operations",children:"10.2. Media Operations"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Upload via ",(0,r.jsx)(i.code,{children:"POST /api/blog/admin/media/upload"})]}),"\n",(0,r.jsx)(i.li,{children:"CRUD operations available"}),"\n",(0,r.jsxs)(i.li,{children:["Respects ",(0,r.jsx)(i.code,{children:"BLOG_MEDIA_MAX_SIZE"})," config"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"11-search-and-filtering",children:"11. Search and Filtering"}),"\n",(0,r.jsxs)(i.p,{children:["Version 1 uses ",(0,r.jsx)(i.code,{children:"spatie/laravel-query-builder"})," for filtering:"]}),"\n",(0,r.jsx)(i.h4,{id:"111-filtering",children:"11.1. Filtering"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Posts can be filtered by: ",(0,r.jsx)(i.code,{children:"title"}),", ",(0,r.jsx)(i.code,{children:"status"}),", ",(0,r.jsx)(i.code,{children:"category_id"}),", ",(0,r.jsx)(i.code,{children:"author_id"})]}),"\n",(0,r.jsxs)(i.li,{children:["Uses query parameters: ",(0,r.jsx)(i.code,{children:"filter[status]=published"})]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"112-sorting",children:"11.2. Sorting"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Sortable fields: ",(0,r.jsx)(i.code,{children:"published_at"}),", ",(0,r.jsx)(i.code,{children:"title"}),", ",(0,r.jsx)(i.code,{children:"created_at"})]}),"\n",(0,r.jsxs)(i.li,{children:["Uses query parameters: ",(0,r.jsx)(i.code,{children:"sort=-published_at"})," (descending)"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"113-pagination",children:"11.3. Pagination"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Default: 15 items per page"}),"\n",(0,r.jsxs)(i.li,{children:["Configurable via ",(0,r.jsx)(i.code,{children:"per_page"})," query parameter"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"12-testing-structure",children:"12. Testing Structure"}),"\n",(0,r.jsxs)(i.p,{children:["Version 1 includes comprehensive tests in ",(0,r.jsx)(i.code,{children:"tests/Feature/"}),":"]}),"\n",(0,r.jsx)(i.h4,{id:"121-api-tests",children:"12.1. API Tests"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"Api/PostControllerTest.php"})," \u2013 public post endpoints"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"Api/CategoryControllerTest.php"})," \u2013 category endpoints"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"Api/TagControllerTest.php"})," \u2013 tag endpoints"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"Api/AuthorControllerTest.php"})," \u2013 author endpoints"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"Api/AdminPostControllerTest.php"})," \u2013 admin post CRUD"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"Api/AdminCategoryControllerTest.php"})," \u2013 admin category CRUD"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"Api/AdminMediaControllerTest.php"})," \u2013 media upload"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"122-feature-tests",children:"12.2. Feature Tests"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"PostManagementTest.php"})," \u2013 post lifecycle (draft, publish, archive, etc.)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"CategorySystemTest.php"})," \u2013 category ordering"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"TagSystemTest.php"})," \u2013 tag operations"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"AuthorManagementTest.php"})," \u2013 author profiles"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"MediaLibraryTest.php"})," \u2013 media operations"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"SearchAndFilteringTest.php"})," \u2013 search and filtering"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"PerformanceTest.php"})," \u2013 caching and eager loading"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"DualStorageSystemTest.php"})," \u2013 driver switching"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"13-key-design-decisions-in-version-1",children:"13. Key Design Decisions in Version 1"}),"\n",(0,r.jsx)(i.h4,{id:"131-headless-architecture",children:"13.1. Headless Architecture"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Decision"}),": Package provides backend + API only, no UI"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Rationale"}),": Allows host apps to build their own frontend/admin UI"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Impact"}),": All functionality accessible via API or Facade"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"132-dual-storage-drivers",children:"13.2. Dual Storage Drivers"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Decision"}),": Support both Eloquent (",(0,r.jsx)(i.code,{children:"db"}),") and Sanity CMS (",(0,r.jsx)(i.code,{children:"sanity"}),")"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Rationale"}),": Flexibility for different use cases"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Implementation"}),": Repository pattern allows swapping implementations"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Limitation"}),": Sanity driver has limited write operations (mostly stubs)"]}),"\n"]}),"\n",(0,r.jsxs)(i.h4,{id:"133-json-style-responses",children:["13.3. JSON",":API"," Style Responses"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Decision"}),": Use JSON",":API-style"," resources for API responses"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Rationale"}),": Consistent, standardized API structure"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Implementation"}),": Laravel API Resources in ",(0,r.jsx)(i.code,{children:"src/Http/Resources/"})]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"134-no-soft-deletes",children:"13.4. No Soft Deletes"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Decision"}),": Use ",(0,r.jsx)(i.code,{children:"archived_at"})," instead of Laravel soft deletes"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Rationale"}),": More explicit control over archived state"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Impact"}),": Posts can be archived and restored without using soft delete trait"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"135-auto-loading-migrations",children:"13.5. Auto-Loading Migrations"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Decision"}),": Migrations auto-load by default"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Rationale"}),": Easier installation, no manual publishing required"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Flexibility"}),": Can still publish migrations for customization"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"136-rate-limiting",children:"13.6. Rate Limiting"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Decision"}),": Different limits for public (120/min) vs admin (60/min)"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Rationale"}),": Protect admin endpoints, allow higher public traffic"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Implementation"}),": Laravel throttle middleware"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"14-extension-points-in-version-1",children:"14. Extension Points in Version 1"}),"\n",(0,r.jsx)(i.p,{children:"Version 1 allows customization through:"}),"\n",(0,r.jsx)(i.h4,{id:"141-model-overrides",children:"14.1. Model Overrides"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Models can be overridden in ",(0,r.jsx)(i.code,{children:"config/blog.php"})]}),"\n",(0,r.jsx)(i.li,{children:"Host apps can extend models with additional functionality"}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"142-repository-overrides",children:"14.2. Repository Overrides"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Repository interfaces can be rebound in host app's service provider"}),"\n",(0,r.jsx)(i.li,{children:"Allows custom data access logic"}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"143-config-customization",children:"14.3. Config Customization"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["All settings configurable via ",(0,r.jsx)(i.code,{children:"config/blog.php"})," or ",(0,r.jsx)(i.code,{children:".env"})]}),"\n",(0,r.jsx)(i.li,{children:"Reading time, media, cache all customizable"}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"144-trait-usage",children:"14.4. Trait Usage"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"BlogAuthor"})," trait is optional for host apps"]}),"\n",(0,r.jsxs)(i.li,{children:["Host apps can add trait to their ",(0,r.jsx)(i.code,{children:"User"})," model for author features"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"15-known-limitations-in-version-1",children:"15. Known Limitations in Version 1"}),"\n",(0,r.jsx)(i.h4,{id:"151-sanity-driver",children:"15.1. Sanity Driver"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Write operations (create, update, delete) throw ",(0,r.jsx)(i.code,{children:"RuntimeException"})]}),"\n",(0,r.jsx)(i.li,{children:"Only read operations are fully implemented"}),"\n",(0,r.jsx)(i.li,{children:"Sanity mutations would need to be implemented for full support"}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"152-no-eventshooks",children:"15.2. No Events/Hooks"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Version 1 does not emit Laravel events (e.g., ",(0,r.jsx)(i.code,{children:"PostPublished"}),", ",(0,r.jsx)(i.code,{children:"PostArchived"}),")"]}),"\n",(0,r.jsx)(i.li,{children:"Host apps cannot easily hook into post lifecycle events"}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"153-no-service-layer",children:"15.3. No Service Layer"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Business logic is in repositories and controllers"}),"\n",(0,r.jsxs)(i.li,{children:["No dedicated service classes (except ",(0,r.jsx)(i.code,{children:"PostService"})," which exists but may not be fully utilized)"]}),"\n"]}),"\n",(0,r.jsx)(i.h4,{id:"154-limited-extensibility",children:"15.4. Limited Extensibility"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"No plugin/hook system for extending functionality"}),"\n",(0,r.jsx)(i.li,{children:"Extension requires overriding repositories/models"}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"16-code-organization",children:"16. Code Organization"}),"\n",(0,r.jsx)(i.h4,{id:"161-directory-structure",children:"16.1. Directory Structure"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"src/\n\u251c\u2500\u2500 Blog.php                    # Core class\n\u251c\u2500\u2500 BlogServiceProvider.php     # Service provider\n\u251c\u2500\u2500 Contracts/\n\u2502   \u2514\u2500\u2500 Repositories/          # Repository interfaces\n\u251c\u2500\u2500 Facades/\n\u2502   \u2514\u2500\u2500 Blog.php               # Facade\n\u251c\u2500\u2500 Http/\n\u2502   \u251c\u2500\u2500 Controllers/\n\u2502   \u2502   \u2514\u2500\u2500 Api/               # Public & Admin controllers\n\u2502   \u2514\u2500\u2500 Resources/             # JSON:API resources\n\u251c\u2500\u2500 Models/                     # Eloquent models\n\u251c\u2500\u2500 Repositories/\n\u2502   \u251c\u2500\u2500 Eloquent/              # Eloquent implementations\n\u2502   \u2514\u2500\u2500 Sanity/                # Sanity implementations\n\u251c\u2500\u2500 Services/                   # Service classes (minimal)\n\u2514\u2500\u2500 Traits/                     # Reusable traits\n"})}),"\n",(0,r.jsx)(i.h4,{id:"162-test-organization",children:"16.2. Test Organization"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"tests/\n\u251c\u2500\u2500 Feature/\n\u2502   \u251c\u2500\u2500 Api/                   # API endpoint tests\n\u2502   \u2514\u2500\u2500 *.php                  # Feature tests\n\u2514\u2500\u2500 TestCase.php               # Base test case\n"})}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"17-dependencies",children:"17. Dependencies"}),"\n",(0,r.jsx)(i.p,{children:"Version 1 requires:"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Laravel"})," >= 10.0 or >= 11.0"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"PHP"})," >= 8.2"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"spatie/laravel-query-builder"})," \u2013 for filtering/sorting"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Laravel Sanctum"})," \u2013 for admin API authentication (host app responsibility)"]}),"\n"]}),"\n",(0,r.jsx)(i.hr,{}),"\n",(0,r.jsx)(i.h3,{id:"18-summary-for-version-2-developers",children:"18. Summary for Version 2 Developers"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"What Version 1 provides:"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Complete headless blog engine with RESTful API"}),"\n",(0,r.jsx)(i.li,{children:"Dual storage driver support (Eloquent + Sanity)"}),"\n",(0,r.jsx)(i.li,{children:"Post management (draft, publish, archive, schedule, duplicate)"}),"\n",(0,r.jsx)(i.li,{children:"Category ordering system"}),"\n",(0,r.jsx)(i.li,{children:"Tag system with search and popular tags"}),"\n",(0,r.jsx)(i.li,{children:"Media library"}),"\n",(0,r.jsx)(i.li,{children:"Author profiles linked to host app's User model"}),"\n",(0,r.jsx)(i.li,{children:"Comprehensive test coverage"}),"\n",(0,r.jsxs)(i.li,{children:["JSON",":API-style"," responses"]}),"\n",(0,r.jsx)(i.li,{children:"Rate limiting and authentication"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Key architectural patterns:"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Repository pattern for data access abstraction"}),"\n",(0,r.jsx)(i.li,{children:"Facade pattern for convenient static access"}),"\n",(0,r.jsx)(i.li,{children:"Service provider for package registration"}),"\n",(0,r.jsx)(i.li,{children:"Trait-based shared behaviors"}),"\n",(0,r.jsx)(i.li,{children:"Driver-based storage switching"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Areas that may need attention in Version 2:"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"Sanity driver write operations (currently stubbed)"}),"\n",(0,r.jsx)(i.li,{children:"Event system for lifecycle hooks"}),"\n",(0,r.jsx)(i.li,{children:"Service layer formalization"}),"\n",(0,r.jsx)(i.li,{children:"Enhanced extensibility mechanisms"}),"\n",(0,r.jsx)(i.li,{children:"Additional API endpoints (archives, feeds, sitemaps)"}),"\n",(0,r.jsx)(i.li,{children:"Database connection configuration (currently handled via model extension)"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Related Documentation:"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["See ",(0,r.jsx)(i.a,{href:"./",children:"Main Documentation"})," for installation and basic setup, including database connection configuration"]}),"\n",(0,r.jsxs)(i.li,{children:["See ",(0,r.jsx)(i.a,{href:"./developer-guide",children:"Developer Guide"})," for detailed usage instructions and database connection setup"]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:"This documentation should help you understand Version 1's implementation before planning Version 2 improvements."})]})}function h(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,i,s)=>{s.d(i,{R:()=>d,x:()=>o});var n=s(6540);const r={},l=n.createContext(r);function d(e){const i=n.useContext(l);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),n.createElement(l.Provider,{value:i},e.children)}}}]);