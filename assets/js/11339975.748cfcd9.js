"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[453],{1954:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"packages/composer-packages/CEYCDS-PK-COMPOSER-003-blog/Installation-guide","title":"Installation & Setup","description":"Step 1: Install the Package","source":"@site/docs/packages/composer-packages/CEYCDS-PK-COMPOSER-003-blog/Installation-guide.md","sourceDirName":"packages/composer-packages/CEYCDS-PK-COMPOSER-003-blog","slug":"/packages/composer-packages/CEYCDS-PK-COMPOSER-003-blog/Installation-guide","permalink":"/CEYCDS-PK-package-collection/docs/packages/composer-packages/CEYCDS-PK-COMPOSER-003-blog/Installation-guide","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Blog Package","permalink":"/CEYCDS-PK-package-collection/docs/packages/composer-packages/CEYCDS-PK-COMPOSER-003-blog/"},"next":{"title":"Developer Guide","permalink":"/CEYCDS-PK-package-collection/docs/packages/composer-packages/CEYCDS-PK-COMPOSER-003-blog/developer-guide"}}');var s=i(4848),t=i(8453);const r={},l="Installation & Setup",c={},o=[{value:"Step 1: Install the Package",id:"step-1-install-the-package",level:2},{value:"Step 2: Publish Configuration",id:"step-2-publish-configuration",level:2},{value:"Step 3: Configure Environment Variables",id:"step-3-configure-environment-variables",level:2},{value:"Configuration Options",id:"configuration-options",level:3},{value:"Step 4: Configure Database Connection",id:"step-4-configure-database-connection",level:2},{value:"Step 5: Run Database Migrations",id:"step-5-run-database-migrations",level:2},{value:"Step 6: Install Laravel Sanctum (For Admin API)",id:"step-6-install-laravel-sanctum-for-admin-api",level:2},{value:"Step 6.5: Create Cache Table (For Rate Limiting)",id:"step-65-create-cache-table-for-rate-limiting",level:2},{value:"Step 7: Install Required Dependencies",id:"step-7-install-required-dependencies",level:2},{value:"Step 8: Verify Installation",id:"step-8-verify-installation",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"installation--setup",children:"Installation & Setup"})}),"\n",(0,s.jsx)(n.h2,{id:"step-1-install-the-package",children:"Step 1: Install the Package"}),"\n",(0,s.jsx)(n.p,{children:"Install the package via Composer:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"composer require ceygenic/blog-core\n"})}),"\n",(0,s.jsx)(n.h2,{id:"step-2-publish-configuration",children:"Step 2: Publish Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Publish the configuration file:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan vendor:publish --tag=blog-config\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This creates a ",(0,s.jsx)(n.code,{children:"config/blog.php"})," file in your Laravel application."]}),"\n",(0,s.jsx)(n.h2,{id:"step-3-configure-environment-variables",children:"Step 3: Configure Environment Variables"}),"\n",(0,s.jsxs)(n.p,{children:["Add the following to your ",(0,s.jsx)(n.code,{children:".env"})," file:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-env",children:"# Blog Package Configuration\nBLOG_ENABLED=true\nBLOG_PREFIX=[Blog]\nBLOG_DRIVER=db\n\n# Reading Time Configuration\nBLOG_READING_TIME_WPM=200\n\n# Sanity CMS Configuration (Optional - only if using Sanity driver)\nSANITY_PROJECT_ID=your-project-id\nSANITY_DATASET=production\nSANITY_TOKEN=your-sanity-token\n"})}),"\n",(0,s.jsx)(n.h3,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,s.jsx)(n.p,{children:"The following table describes all available environment variables:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Variable"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Required"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"BLOG_ENABLED"})}),(0,s.jsx)(n.td,{children:"Enable/disable the blog package"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"true"})}),(0,s.jsx)(n.td,{children:"No"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"BLOG_PREFIX"})}),(0,s.jsx)(n.td,{children:"Default prefix for blog-related content"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"[Blog]"})}),(0,s.jsx)(n.td,{children:"No"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"BLOG_DRIVER"})}),(0,s.jsxs)(n.td,{children:["Storage driver: ",(0,s.jsx)(n.code,{children:"db"})," (database) or ",(0,s.jsx)(n.code,{children:"sanity"})," (Sanity CMS)"]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"db"})}),(0,s.jsx)(n.td,{children:"No"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"BLOG_READING_TIME_WPM"})}),(0,s.jsx)(n.td,{children:"Words per minute for reading time calculation"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"200"})}),(0,s.jsx)(n.td,{children:"No"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"SANITY_PROJECT_ID"})}),(0,s.jsx)(n.td,{children:"Sanity project ID (only if using Sanity driver)"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"Yes (if using Sanity)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"SANITY_DATASET"})}),(0,s.jsx)(n.td,{children:"Sanity dataset name"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"production"})}),(0,s.jsx)(n.td,{children:"Yes (if using Sanity)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"SANITY_TOKEN"})}),(0,s.jsx)(n.td,{children:"Sanity API token"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"Yes (if using Sanity)"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"step-4-configure-database-connection",children:"Step 4: Configure Database Connection"}),"\n",(0,s.jsxs)(n.p,{children:["The package uses Laravel's default database connection. Ensure your ",(0,s.jsx)(n.code,{children:".env"})," file has the correct database configuration:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-env",children:"DB_CONNECTION=mysql\nDB_HOST=127.0.0.1\nDB_PORT=3306\nDB_DATABASE=your_database\nDB_USERNAME=your_username\nDB_PASSWORD=your_password\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Using a Different Database Connection:"})}),"\n",(0,s.jsxs)(n.p,{children:["If you want to store blog data in a separate database, you can configure a custom connection in ",(0,s.jsx)(n.code,{children:"config/database.php"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"'connections' => [\n    'blog' => [\n        'driver' => 'mysql',\n        'host' => env('BLOG_DB_HOST', '127.0.0.1'),\n        'port' => env('BLOG_DB_PORT', '3306'),\n        'database' => env('BLOG_DB_DATABASE', 'blog_db'),\n        'username' => env('BLOG_DB_USERNAME', 'root'),\n        'password' => env('BLOG_DB_PASSWORD', ''),\n        // ... other connection settings\n    ],\n],\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Then set the connection in your models or via config. See the ",(0,s.jsx)(n.a,{href:"developer-guide#database-connection-configuration",children:"Developer Guide"})," for details."]}),"\n",(0,s.jsx)(n.h2,{id:"step-5-run-database-migrations",children:"Step 5: Run Database Migrations"}),"\n",(0,s.jsx)(n.p,{children:"Run the migrations to create the required database tables:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan migrate\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Tables Created:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"categories"})," - Blog categories"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"tags"})," - Blog tags"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"posts"})," - Blog posts"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"post_tag"})," - Pivot table for post-tag relationships"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"author_profiles"})," - Author profile information"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"media"})," - Media library files"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," If using the Sanity driver (",(0,s.jsx)(n.code,{children:"BLOG_DRIVER=sanity"}),"), you don't need to run migrations as data is stored in Sanity CMS."]}),"\n",(0,s.jsx)(n.h2,{id:"step-6-install-laravel-sanctum-for-admin-api",children:"Step 6: Install Laravel Sanctum (For Admin API)"}),"\n",(0,s.jsx)(n.p,{children:"The admin API endpoints require Laravel Sanctum authentication. If you haven't installed it:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'composer require laravel/sanctum\nphp artisan vendor:publish --provider="Laravel\\Sanctum\\SanctumServiceProvider"\nphp artisan migrate\n'})}),"\n",(0,s.jsx)(n.h2,{id:"step-65-create-cache-table-for-rate-limiting",children:"Step 6.5: Create Cache Table (For Rate Limiting)"}),"\n",(0,s.jsx)(n.p,{children:"The API routes use rate limiting which requires a cache table when using the database cache driver. Create it:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan cache:table\nphp artisan migrate\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," If you're using ",(0,s.jsx)(n.code,{children:"CACHE_DRIVER=array"})," in your ",(0,s.jsx)(n.code,{children:".env"})," for development, you can skip this step. However, for production, it's recommended to use the database cache driver with the cache table."]}),"\n",(0,s.jsx)(n.h2,{id:"step-7-install-required-dependencies",children:"Step 7: Install Required Dependencies"}),"\n",(0,s.jsxs)(n.p,{children:["The package requires ",(0,s.jsx)(n.code,{children:"spatie/laravel-query-builder"})," for filtering and sorting. It should be installed automatically, but if not:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"composer require spatie/laravel-query-builder\n"})}),"\n",(0,s.jsx)(n.h2,{id:"step-8-verify-installation",children:"Step 8: Verify Installation"}),"\n",(0,s.jsx)(n.p,{children:"Check if routes are registered:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan route:list | grep blog\n"})}),"\n",(0,s.jsx)(n.p,{children:"Test a public endpoint:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl http://localhost:8000/api/blog/posts\n"})}),"\n",(0,s.jsx)(n.p,{children:"You should receive a JSON response."})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var a=i(6540);const s={},t=a.createContext(s);function r(e){const n=a.useContext(t);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(t.Provider,{value:n},e.children)}}}]);