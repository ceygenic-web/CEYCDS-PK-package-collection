"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[150],{7813:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"packages/composer-packages/CEYCDS-PK-COMPOSER-003-blog/developer-guide","title":"Developer Guide: Using ceygenic/blog-core in Your Laravel Projects","description":"This guide is for developers who want to install, configure, extend, and understand the ceygenic/blog-core package. It assumes basic Laravel knowledge but explains everything step by step.","source":"@site/docs/packages/composer-packages/CEYCDS-PK-COMPOSER-003-blog/developer-guide.md","sourceDirName":"packages/composer-packages/CEYCDS-PK-COMPOSER-003-blog","slug":"/packages/composer-packages/CEYCDS-PK-COMPOSER-003-blog/developer-guide","permalink":"/CEYCDS-PK-package-collection/docs/packages/composer-packages/CEYCDS-PK-COMPOSER-003-blog/developer-guide","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Installation & Setup","permalink":"/CEYCDS-PK-package-collection/docs/packages/composer-packages/CEYCDS-PK-COMPOSER-003-blog/Installation-guide"}}');var r=s(4848),l=s(8453);const o={},d="Developer Guide: Using ceygenic/blog-core in Your Laravel Projects",c={},t=[{value:"1. What This Package Gives You",id:"1-what-this-package-gives-you",level:2},{value:"2. Installing the Package Into Another Project",id:"2-installing-the-package-into-another-project",level:2},{value:"2.1. Require via Composer",id:"21-require-via-composer",level:3},{value:"2.2. Publish Config (Optional but Recommended)",id:"22-publish-config-optional-but-recommended",level:3},{value:"2.3. Publish/Use Migrations",id:"23-publishuse-migrations",level:3},{value:"3. Database Connection Configuration",id:"3-database-connection-configuration",level:2},{value:"3.1. Default Connection",id:"31-default-connection",level:3},{value:"3.2. Using a Separate Database Connection",id:"32-using-a-separate-database-connection",level:3},{value:"3.3. Basic Configuration (DB Driver)",id:"33-basic-configuration-db-driver",level:3},{value:"3.4. Linking to Your User Model",id:"34-linking-to-your-user-model",level:3},{value:"4. Switching Between db and sanity Drivers",id:"4-switching-between-db-and-sanity-drivers",level:2},{value:"4.1. DB Driver (db)",id:"41-db-driver-db",level:3},{value:"4.2. Sanity Driver (sanity)",id:"42-sanity-driver-sanity",level:3},{value:"5. Using the Facade in Your App",id:"5-using-the-facade-in-your-app",level:2},{value:"5.1. Using Dependency Injection",id:"51-using-dependency-injection",level:3},{value:"5.2. Using the Service Container",id:"52-using-the-service-container",level:3},{value:"6. REST API Overview (How to Call from Your Frontend)",id:"6-rest-api-overview-how-to-call-from-your-frontend",level:2},{value:"6.1. Public Endpoints (No Auth Required)",id:"61-public-endpoints-no-auth-required",level:3},{value:"Posts",id:"posts",level:4},{value:"Categories",id:"categories",level:4},{value:"Tags",id:"tags",level:4},{value:"Authors",id:"authors",level:4},{value:"6.2. Admin Endpoints (Protected)",id:"62-admin-endpoints-protected",level:3},{value:"Posts CRUD",id:"posts-crud",level:4},{value:"Categories CRUD",id:"categories-crud",level:4},{value:"Media",id:"media",level:4},{value:"7. How the Package Is Built (For Developers Extending It)",id:"7-how-the-package-is-built-for-developers-extending-it",level:2},{value:"7.1. High-Level Architecture",id:"71-high-level-architecture",level:3},{value:"7.2. Repository Pattern",id:"72-repository-pattern",level:3},{value:"7.3. Traits and Observers",id:"73-traits-and-observers",level:3},{value:"7.4. Media Library",id:"74-media-library",level:3},{value:"8. Customizing and Extending in Your Project",id:"8-customizing-and-extending-in-your-project",level:2},{value:"8.1. Overriding Models",id:"81-overriding-models",level:3},{value:"8.2. Overriding Repositories",id:"82-overriding-repositories",level:3},{value:"8.3. Adding Your Own Routes",id:"83-adding-your-own-routes",level:3},{value:"9. How to Use This Package Step-by-Step",id:"9-how-to-use-this-package-step-by-step",level:2},{value:"10. Artisan Commands",id:"10-artisan-commands",level:2},{value:"11. Where to Look in the Code (For Learning/Debugging)",id:"11-where-to-look-in-the-code-for-learningdebugging",level:2},{value:"12. Summary",id:"12-summary",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"developer-guide-using-ceygenicblog-core-in-your-laravel-projects",children:"Developer Guide: Using ceygenic/blog-core in Your Laravel Projects"})}),"\n",(0,r.jsx)(n.p,{children:"This guide is for developers who want to install, configure, extend, and understand the ceygenic/blog-core package. It assumes basic Laravel knowledge but explains everything step by step."}),"\n",(0,r.jsx)(n.h2,{id:"1-what-this-package-gives-you",children:"1. What This Package Gives You"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Headless blog engine"})," (no UI, only backend logic and API)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RESTful API"})," for:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Public blog (posts, categories, tags, authors)"}),"\n",(0,r.jsx)(n.li,{children:"Admin panel (CRUD, media upload)"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Dual storage drivers:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"db"})," \u2192 Laravel Eloquent (default)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sanity"})," \u2192 Sanity CMS (read-side, mutations mostly stubbed)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Core blog features:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Post management (draft/publish/schedule/archive/duplicate)"}),"\n",(0,r.jsx)(n.li,{children:"Categories (order control, post counts)"}),"\n",(0,r.jsx)(n.li,{children:"Tags (search/auto-complete, popular tags)"}),"\n",(0,r.jsx)(n.li,{children:"Authors (linked to your app's User model)"}),"\n",(0,r.jsx)(n.li,{children:"Media library (file upload via Laravel Storage)"}),"\n",(0,r.jsx)(n.li,{children:"Search & filtering"}),"\n",(0,r.jsx)(n.li,{children:"Caching & performance"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"You are responsible for frontend/admin UI in your app; this package provides the engine + API."}),"\n",(0,r.jsx)(n.h2,{id:"2-installing-the-package-into-another-project",children:"2. Installing the Package Into Another Project"}),"\n",(0,r.jsx)(n.h3,{id:"21-require-via-composer",children:"2.1. Require via Composer"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"composer require ceygenic/blog-core\n"})}),"\n",(0,r.jsx)(n.p,{children:"This will:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Install the package under ",(0,r.jsx)(n.code,{children:"vendor/"})]}),"\n",(0,r.jsxs)(n.li,{children:["Auto-register the ",(0,r.jsx)(n.code,{children:"BlogServiceProvider"})]}),"\n",(0,r.jsxs)(n.li,{children:["Auto-register the ",(0,r.jsx)(n.code,{children:"Blog"})," facade"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"22-publish-config-optional-but-recommended",children:"2.2. Publish Config (Optional but Recommended)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"php artisan vendor:publish --tag=blog-config\n"})}),"\n",(0,r.jsxs)(n.p,{children:["This creates ",(0,r.jsx)(n.code,{children:"config/blog.php"})," in your app, where you can change:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Driver: ",(0,r.jsx)(n.code,{children:"db"})," or ",(0,r.jsx)(n.code,{children:"sanity"})]}),"\n",(0,r.jsx)(n.li,{children:"Reading time settings"}),"\n",(0,r.jsx)(n.li,{children:"Author user model"}),"\n",(0,r.jsx)(n.li,{children:"Model overrides"}),"\n",(0,r.jsx)(n.li,{children:"Media & cache settings"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"23-publishuse-migrations",children:"2.3. Publish/Use Migrations"}),"\n",(0,r.jsx)(n.p,{children:"By default, the package auto-loads its migrations:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"categories"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"tags"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"posts"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"post_tag"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"author_profiles"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"media"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"users"})," (only created if it does not already exist)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"To customize migrations in your app:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"php artisan vendor:publish --tag=blog-migrations\n"})}),"\n",(0,r.jsx)(n.p,{children:"Then run:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"php artisan migrate\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"})," The users migration in the package checks ",(0,r.jsx)(n.code,{children:"Schema::hasTable('users')"})," before creating, so it will not overwrite your existing users table."]}),"\n",(0,r.jsxs)(n.p,{children:["For detailed installation steps, see the ",(0,r.jsx)(n.a,{href:"Installation-guide",children:"Installation Guide"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"3-database-connection-configuration",children:"3. Database Connection Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"31-default-connection",children:"3.1. Default Connection"}),"\n",(0,r.jsxs)(n.p,{children:["By default, the package uses Laravel's default database connection (configured via ",(0,r.jsx)(n.code,{children:"DB_CONNECTION"})," in your ",(0,r.jsx)(n.code,{children:".env"}),"). All blog models will use this connection."]}),"\n",(0,r.jsx)(n.h3,{id:"32-using-a-separate-database-connection",children:"3.2. Using a Separate Database Connection"}),"\n",(0,r.jsx)(n.p,{children:"If you want to store blog data in a separate database, you can:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Option 1:"})," Configure a custom connection in ",(0,r.jsx)(n.code,{children:"config/database.php"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"'connections' => [\n    'blog' => [\n        'driver' => 'mysql',\n        'host' => env('BLOG_DB_HOST', '127.0.0.1'),\n        'port' => env('BLOG_DB_PORT', '3306'),\n        'database' => env('BLOG_DB_DATABASE', 'blog_db'),\n        'username' => env('BLOG_DB_USERNAME', 'root'),\n        'password' => env('BLOG_DB_PASSWORD', ''),\n        'charset' => 'utf8mb4',\n        'collation' => 'utf8mb4_unicode_ci',\n        'prefix' => '',\n        'strict' => true,\n        'engine' => null,\n    ],\n],\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Option 2:"})," Override models to use a different connection:"]}),"\n",(0,r.jsxs)(n.p,{children:["Create extended models in your app and set the ",(0,r.jsx)(n.code,{children:"$connection"})," property:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"namespace App\\Models;\n\nuse Ceygenic\\Blog\\Models\\Post as BasePost;\n\nclass Post extends BasePost\n{\n    protected $connection = 'blog';\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Then override the model in ",(0,r.jsx)(n.code,{children:"config/blog.php"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"'models' => [\n    'post' => \\App\\Models\\Post::class,\n    // ... other models\n],\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Option 3:"})," Set connection via config (if supported in future versions):"]}),"\n",(0,r.jsxs)(n.p,{children:["This would require adding connection configuration to ",(0,r.jsx)(n.code,{children:"config/blog.php"})," and updating models accordingly."]}),"\n",(0,r.jsx)(n.h3,{id:"33-basic-configuration-db-driver",children:"3.3. Basic Configuration (DB Driver)"}),"\n",(0,r.jsxs)(n.p,{children:["The default driver is ",(0,r.jsx)(n.code,{children:"db"})," (Eloquent). In your ",(0,r.jsx)(n.code,{children:".env"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"BLOG_ENABLED=true\nBLOG_DRIVER=db\n\n# Reading time\nBLOG_READING_TIME_WPM=200\n\n# Media\nBLOG_MEDIA_DISK=public\nBLOG_MEDIA_DIRECTORY=blog/media\nBLOG_MEDIA_MAX_SIZE=10485760\n\n# Cache\nBLOG_CACHE_ENABLED=true\nBLOG_CACHE_TTL=3600\nBLOG_CACHE_PREFIX=blog\n"})}),"\n",(0,r.jsx)(n.h3,{id:"34-linking-to-your-user-model",children:"3.4. Linking to Your User Model"}),"\n",(0,r.jsxs)(n.p,{children:["By default, the Post model needs an author (",(0,r.jsx)(n.code,{children:"author_id"}),"). You can tell the package which User model to use:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"BLOG_USER_MODEL=App\\Models\\User\n"})}),"\n",(0,r.jsxs)(n.p,{children:["In ",(0,r.jsx)(n.code,{children:"config/blog.php"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"'author' => [\n    'user_model' => env('BLOG_USER_MODEL', config('auth.providers.users.model', 'App\\\\Models\\\\User')),\n],\n"})}),"\n",(0,r.jsx)(n.p,{children:"This means:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Post::author()"})," will use your app's User model."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AuthorProfile"})," references your users table."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["If you want blog-specific author helpers (bio, avatar, etc.), add the ",(0,r.jsx)(n.code,{children:"BlogAuthor"})," trait to your User model:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"use Ceygenic\\Blog\\Traits\\BlogAuthor;\n\nclass User extends Authenticatable\n{\n    use BlogAuthor;\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"This gives you:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"$user->authorProfile"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"$user->blogPosts"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"$user->bio"}),", ",(0,r.jsx)(n.code,{children:"$user->avatar"}),", ",(0,r.jsx)(n.code,{children:"$user->social_links"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"4-switching-between-db-and-sanity-drivers",children:"4. Switching Between db and sanity Drivers"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"})," Database connection configuration (see section 3) is separate from the storage driver. The ",(0,r.jsx)(n.code,{children:"BLOG_DRIVER"})," setting determines whether to use Eloquent (",(0,r.jsx)(n.code,{children:"db"}),") or Sanity CMS (",(0,r.jsx)(n.code,{children:"sanity"}),") for data access, while database connection settings determine which database server/connection to use when the ",(0,r.jsx)(n.code,{children:"db"})," driver is selected."]}),"\n",(0,r.jsxs)(n.p,{children:["The driver is controlled by ",(0,r.jsx)(n.code,{children:"config('blog.driver')"})," or ",(0,r.jsx)(n.code,{children:".env"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"# Use Eloquent/database\nBLOG_DRIVER=db\n\n# OR use Sanity CMS for read operations\nBLOG_DRIVER=sanity\n"})}),"\n",(0,r.jsx)(n.h3,{id:"41-db-driver-db",children:"4.1. DB Driver (db)"}),"\n",(0,r.jsx)(n.p,{children:"Uses Eloquent models:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"Ceygenic\\Blog\\Models\\Post"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Category"}),", ",(0,r.jsx)(n.code,{children:"Tag"}),", ",(0,r.jsx)(n.code,{children:"AuthorProfile"}),", ",(0,r.jsx)(n.code,{children:"Media"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"All CRUD operations & advanced features work."}),"\n",(0,r.jsx)(n.p,{children:"Repositories:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"EloquentPostRepository"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"EloquentCategoryRepository"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"EloquentTagRepository"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"42-sanity-driver-sanity",children:"4.2. Sanity Driver (sanity)"}),"\n",(0,r.jsxs)(n.p,{children:["Configure in ",(0,r.jsx)(n.code,{children:".env"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"BLOG_DRIVER=sanity\nSANITY_PROJECT_ID=your-project-id\nSANITY_DATASET=production\nSANITY_TOKEN=your-sanity-token\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Read data from Sanity via GROQ queries."}),"\n",(0,r.jsxs)(n.li,{children:["Repositories:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"SanityPostRepository"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"SanityCategoryRepository"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"SanityTagRepository"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Most mutating operations (create/update/delete) are stubs and will throw a ",(0,r.jsx)(n.code,{children:"RuntimeException"})," until you implement Sanity mutations."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Typical pattern:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"db"})," driver in production for full CRUD."]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"sanity"})," driver if your content team already lives in Sanity and you only need read-side blog API."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"5-using-the-facade-in-your-app",children:"5. Using the Facade in Your App"}),"\n",(0,r.jsxs)(n.p,{children:["The package provides a ",(0,r.jsx)(n.code,{children:"Blog"})," facade:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"use Ceygenic\\Blog\\Facades\\Blog;\n\n// Get published posts (collection)\n$posts = Blog::posts()->getPublished();\n\n// Create a draft post\n$post = Blog::createDraft([\n    'title' => 'My Draft Post',\n    'content' => 'Lorem ipsum...',\n    'category_id' => 1,\n    'author_id' => auth()->id(),\n]);\n\n// Publish a post\nBlog::publishPost($post->id);\n\n// Categories\n$categories = Blog::getCategoriesOrdered();\n\n// Tags\n$tags = Blog::tags()->all();\n$popular = Blog::getPopularTags();\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Behind the scenes, ",(0,r.jsx)(n.code,{children:"Blog"})," uses the repositories that match your configured driver."]}),"\n",(0,r.jsx)(n.h3,{id:"51-using-dependency-injection",children:"5.1. Using Dependency Injection"}),"\n",(0,r.jsx)(n.p,{children:"Instead of using the facade, you can inject the Blog service:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"use Ceygenic\\Blog\\Blog;\n\nclass YourController extends Controller\n{\n    public function __construct(\n        private Blog $blog\n    ) {}\n\n    public function index()\n    {\n        $posts = $this->blog->posts()->all();\n        return view('posts.index', compact('posts'));\n    }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"52-using-the-service-container",children:"5.2. Using the Service Container"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"$blog = app('blog');\n$posts = $blog->posts()->all();\n"})}),"\n",(0,r.jsx)(n.h2,{id:"6-rest-api-overview-how-to-call-from-your-frontend",children:"6. REST API Overview (How to Call from Your Frontend)"}),"\n",(0,r.jsxs)(n.p,{children:["Once installed, the package registers API routes under ",(0,r.jsx)(n.code,{children:"/api/blog"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"61-public-endpoints-no-auth-required",children:"6.1. Public Endpoints (No Auth Required)"}),"\n",(0,r.jsxs)(n.p,{children:["Rate-limited to ",(0,r.jsx)(n.strong,{children:"120 requests per minute"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"posts",children:"Posts"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GET"})," ",(0,r.jsx)(n.code,{children:"/api/blog/posts"})," - List all posts (with pagination, filtering, sorting)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GET"})," ",(0,r.jsx)(n.code,{children:"/api/blog/posts/{slug}"})," - Get single post by slug"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GET"})," ",(0,r.jsx)(n.code,{children:"/api/blog/posts/search?q={query}"})," - Search posts"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Query Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"filter[title]"})," - Filter by title"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"filter[status]"})," - Filter by status (draft, published, archived)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"filter[category_id]"})," - Filter by category ID"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sort"})," - Sort by field (e.g., ",(0,r.jsx)(n.code,{children:"-published_at"})," for descending)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"per_page"})," - Items per page (default: 15)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"page"})," - Page number"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"GET /api/blog/posts?filter[status]=published&sort=-published_at&per_page=10\n"})}),"\n",(0,r.jsx)(n.h4,{id:"categories",children:"Categories"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GET"})," ",(0,r.jsx)(n.code,{children:"/api/blog/categories"})," - List all categories"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GET"})," ",(0,r.jsx)(n.code,{children:"/api/blog/categories/{slug}/posts"})," - Get posts by category"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"tags",children:"Tags"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GET"})," ",(0,r.jsx)(n.code,{children:"/api/blog/tags"})," - List all tags"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GET"})," ",(0,r.jsx)(n.code,{children:"/api/blog/tags/popular"})," - Popular tags"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GET"})," ",(0,r.jsx)(n.code,{children:"/api/blog/tags/{slug}/posts"})," - Get posts by tag"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"authors",children:"Authors"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GET"})," ",(0,r.jsx)(n.code,{children:"/api/blog/authors/{id}"})," - Get author with posts"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GET"})," ",(0,r.jsx)(n.code,{children:"/api/blog/authors/{id}/posts"})," - Get posts by author"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"You can consume these from any frontend (Blade, Vue, React, mobile, etc.)."}),"\n",(0,r.jsx)(n.h3,{id:"62-admin-endpoints-protected",children:"6.2. Admin Endpoints (Protected)"}),"\n",(0,r.jsxs)(n.p,{children:["Rate-limited to ",(0,r.jsx)(n.strong,{children:"60 requests per minute"}),". Requires Sanctum authentication."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Include token in header:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Authorization: Bearer {your-token}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"posts-crud",children:"Posts CRUD"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GET"})," ",(0,r.jsx)(n.code,{children:"/api/blog/admin/posts"})," - List all posts"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"POST"})," ",(0,r.jsx)(n.code,{children:"/api/blog/admin/posts"})," - Create post"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GET"})," ",(0,r.jsx)(n.code,{children:"/api/blog/admin/posts/{id}"})," - Get post"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"PUT/PATCH"})," ",(0,r.jsx)(n.code,{children:"/api/blog/admin/posts/{id}"})," - Update post"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"DELETE"})," ",(0,r.jsx)(n.code,{children:"/api/blog/admin/posts/{id}"})," - Delete post"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Post Management Actions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"POST"})," ",(0,r.jsx)(n.code,{children:"/api/blog/admin/posts/{id}/publish"})," - Publish a post"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"POST"})," ",(0,r.jsx)(n.code,{children:"/api/blog/admin/posts/{id}/unpublish"})," - Unpublish a post"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"POST"})," ",(0,r.jsx)(n.code,{children:"/api/blog/admin/posts/{id}/toggle-status"})," - Toggle post status"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"POST"})," ",(0,r.jsx)(n.code,{children:"/api/blog/admin/posts/{id}/schedule"})," - Schedule a post"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"POST"})," ",(0,r.jsx)(n.code,{children:"/api/blog/admin/posts/{id}/duplicate"})," - Duplicate a post"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"POST"})," ",(0,r.jsx)(n.code,{children:"/api/blog/admin/posts/{id}/archive"})," - Archive a post"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"POST"})," ",(0,r.jsx)(n.code,{children:"/api/blog/admin/posts/{id}/restore"})," - Restore an archived post"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"categories-crud",children:"Categories CRUD"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GET"})," ",(0,r.jsx)(n.code,{children:"/api/blog/admin/categories"})," - List all categories"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"POST"})," ",(0,r.jsx)(n.code,{children:"/api/blog/admin/categories"})," - Create category"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GET"})," ",(0,r.jsx)(n.code,{children:"/api/blog/admin/categories/{id}"})," - Get category"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"PUT/PATCH"})," ",(0,r.jsx)(n.code,{children:"/api/blog/admin/categories/{id}"})," - Update category"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"DELETE"})," ",(0,r.jsx)(n.code,{children:"/api/blog/admin/categories/{id}"})," - Delete category"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"media",children:"Media"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"POST"})," ",(0,r.jsx)(n.code,{children:"/api/blog/admin/media/upload"})," - Upload media file"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Content-Type: ",(0,r.jsx)(n.code,{children:"multipart/form-data"})]}),"\n",(0,r.jsxs)(n.li,{children:["Field: ",(0,r.jsx)(n.code,{children:"file"})," (image file, max 10MB)"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["To secure these, ensure Sanctum is installed and configured in your host app. See the ",(0,r.jsx)(n.a,{href:"Installation-guide",children:"Installation Guide"})," for Sanctum setup."]}),"\n",(0,r.jsx)(n.h2,{id:"7-how-the-package-is-built-for-developers-extending-it",children:"7. How the Package Is Built (For Developers Extending It)"}),"\n",(0,r.jsx)(n.p,{children:"This section gives you a mental model of the internal architecture."}),"\n",(0,r.jsx)(n.h3,{id:"71-high-level-architecture",children:"7.1. High-Level Architecture"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Service Provider:"})," ",(0,r.jsx)(n.code,{children:"BlogServiceProvider"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Merges config, binds repositories, loads migrations & routes"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Facade:"})," ",(0,r.jsx)(n.code,{children:"Ceygenic\\Blog\\Facades\\Blog"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Provides a clean API: ",(0,r.jsx)(n.code,{children:"Blog::posts()"}),", ",(0,r.jsx)(n.code,{children:"Blog::categories()"}),", etc."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Core Class:"})," ",(0,r.jsx)(n.code,{children:"Ceygenic\\Blog\\Blog"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Holds repository instances"}),"\n",(0,r.jsxs)(n.li,{children:["Exposes convenience methods (",(0,r.jsx)(n.code,{children:"createDraft"}),", ",(0,r.jsx)(n.code,{children:"publishPost"}),", etc.)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Repositories:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Interfaces in ",(0,r.jsx)(n.code,{children:"src/Contracts/Repositories"})]}),"\n",(0,r.jsxs)(n.li,{children:["Eloquent implementations in ",(0,r.jsx)(n.code,{children:"src/Repositories/Eloquent"})]}),"\n",(0,r.jsxs)(n.li,{children:["Sanity implementations in ",(0,r.jsx)(n.code,{children:"src/Repositories/Sanity"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Models:"})," ",(0,r.jsx)(n.code,{children:"Post"}),", ",(0,r.jsx)(n.code,{children:"Category"}),", ",(0,r.jsx)(n.code,{children:"Tag"}),", ",(0,r.jsx)(n.code,{children:"AuthorProfile"}),", ",(0,r.jsx)(n.code,{children:"Media"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Traits:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"HasSlug"})," \u2014 auto slug generation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"HasReadingTime"})," \u2014 auto reading time calculation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BlogAuthor"})," \u2014 extend User model with author info"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"HasCache"})," \u2014 small caching helper for repositories"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"72-repository-pattern",children:"7.2. Repository Pattern"}),"\n",(0,r.jsxs)(n.p,{children:["Example: ",(0,r.jsx)(n.code,{children:"PostRepositoryInterface"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"all(), paginate()\nfind(), findBySlug()\ncreate(), update(), delete()\n\nPost management methods:\ncreateDraft, publish, unpublish, toggleStatus, schedule, duplicate, archive, restore\n\nQuery helpers:\ngetPublished(), getDrafts(), getScheduled(), getArchived()\n"})}),"\n",(0,r.jsx)(n.p,{children:"Then implemented by:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"EloquentPostRepository"})," (database/Eloquent)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SanityPostRepository"})," (Sanity CMS)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The service provider chooses which to bind based on:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"$driver = config('blog.driver', 'db');\n"})}),"\n",(0,r.jsx)(n.h3,{id:"73-traits-and-observers",children:"7.3. Traits and Observers"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"HasSlug:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Listens to ",(0,r.jsx)(n.code,{children:"creating"})," / ",(0,r.jsx)(n.code,{children:"updating"})]}),"\n",(0,r.jsx)(n.li,{children:"Generates unique slug from title or name"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"HasReadingTime:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Listens to ",(0,r.jsx)(n.code,{children:"saving"})]}),"\n",(0,r.jsxs)(n.li,{children:["Calculates reading time from content using ",(0,r.jsx)(n.code,{children:"BLOG_READING_TIME_WPM"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"BlogAuthor:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Adds ",(0,r.jsx)(n.code,{children:"authorProfile"})," (hasOne)"]}),"\n",(0,r.jsxs)(n.li,{children:["Adds ",(0,r.jsx)(n.code,{children:"blogPosts"})," (hasMany)"]}),"\n",(0,r.jsxs)(n.li,{children:["Adds accessors (",(0,r.jsx)(n.code,{children:"bio"}),", ",(0,r.jsx)(n.code,{children:"avatar"}),", ",(0,r.jsx)(n.code,{children:"social links"}),")"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"74-media-library",children:"7.4. Media Library"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Model:"})," ",(0,r.jsx)(n.code,{children:"Media"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Migration:"})," ",(0,r.jsx)(n.code,{children:"media"})," table with ",(0,r.jsx)(n.code,{children:"file_path"}),", ",(0,r.jsx)(n.code,{children:"disk"}),", etc."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Controller:"})," ",(0,r.jsx)(n.code,{children:"Admin\\MediaController"})]}),"\n",(0,r.jsxs)(n.li,{children:["Uses Laravel ",(0,r.jsx)(n.code,{children:"Storage"})," facade"]}),"\n",(0,r.jsxs)(n.li,{children:["Respects ",(0,r.jsx)(n.code,{children:"config('blog.media.*')"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["You can change the underlying disk (",(0,r.jsx)(n.code,{children:"local"}),", ",(0,r.jsx)(n.code,{children:"s3"}),", ",(0,r.jsx)(n.code,{children:"cloudinary"}),") via ",(0,r.jsx)(n.code,{children:"config/filesystems.php"})," and the ",(0,r.jsx)(n.code,{children:"BLOG_MEDIA_DISK"})," env variable."]}),"\n",(0,r.jsx)(n.h2,{id:"8-customizing-and-extending-in-your-project",children:"8. Customizing and Extending in Your Project"}),"\n",(0,r.jsx)(n.h3,{id:"81-overriding-models",children:"8.1. Overriding Models"}),"\n",(0,r.jsxs)(n.p,{children:["In ",(0,r.jsx)(n.code,{children:"config/blog.php"})," you can override the default models:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"'models' => [\n    'post' => \\Ceygenic\\Blog\\Models\\Post::class,\n    'category' => \\Ceygenic\\Blog\\Models\\Category::class,\n    'tag' => \\Ceygenic\\Blog\\Models\\Tag::class,\n    'author_profile' => \\Ceygenic\\Blog\\Models\\AuthorProfile::class,\n    'media' => \\Ceygenic\\Blog\\Models\\Media::class,\n],\n"})}),"\n",(0,r.jsx)(n.p,{children:"You could point these to your own extended models if needed."}),"\n",(0,r.jsx)(n.h3,{id:"82-overriding-repositories",children:"8.2. Overriding Repositories"}),"\n",(0,r.jsx)(n.p,{children:"If you want to customize data access logic:"}),"\n",(0,r.jsxs)(n.p,{children:["Create your own repository class in your app, e.g. ",(0,r.jsx)(n.code,{children:"App\\Repositories\\CustomPostRepository"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Bind it in a service provider after ",(0,r.jsx)(n.code,{children:"BlogServiceProvider"})," is loaded:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"use Ceygenic\\Blog\\Contracts\\Repositories\\PostRepositoryInterface;\nuse App\\Repositories\\CustomPostRepository;\n\npublic function register()\n{\n    $this->app->bind(PostRepositoryInterface::class, CustomPostRepository::class);\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"83-adding-your-own-routes",children:"8.3. Adding Your Own Routes"}),"\n",(0,r.jsx)(n.p,{children:"You can add routes in your app that re-use the Blog facade or models, for example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"Route::get('/my-custom-blog-feed', function () {\n    $posts = Ceygenic\\Blog\\Facades\\Blog::posts()->getPublished();\n    return view('blog.feed', compact('posts'));\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"9-how-to-use-this-package-step-by-step",children:"9. How to Use This Package Step-by-Step"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 1:"})," Install the package"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"composer require ceygenic/blog-core\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 2:"})," Publish config (optional)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"php artisan vendor:publish --tag=blog-config\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 3:"})," Configure ",(0,r.jsx)(n.code,{children:".env"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"BLOG_DRIVER=db\nBLOG_USER_MODEL=App\\\\Models\\\\User\nBLOG_MEDIA_DISK=public\nBLOG_CACHE_ENABLED=true\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 4:"})," Run migrations"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"php artisan migrate\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 5:"})," (Optional) Add ",(0,r.jsx)(n.code,{children:"BlogAuthor"})," trait to your User model"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",children:"use Ceygenic\\Blog\\Traits\\BlogAuthor;\n\nclass User extends Authenticatable\n{\n    use BlogAuthor;\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 6:"})," Test public API quickly"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"php artisan serve\n"})}),"\n",(0,r.jsx)(n.p,{children:"In browser or Postman:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET http://localhost:8000/api/blog/posts\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 7:"})," Protect admin routes with Sanctum"]}),"\n",(0,r.jsxs)(n.p,{children:["Install Sanctum in your app (if not already)\nConfigure ",(0,r.jsx)(n.code,{children:"auth:sanctum"})," middleware\nUse API tokens or SPA auth to call:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"POST /api/blog/admin/posts"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"POST /api/blog/admin/media/upload"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 8:"})," Build your frontend/admin UI"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use the documented endpoints to power your Vue/React/Blade admin"}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"Blog"})," facade in controllers or services for server-side rendering"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 9:"})," (Optional) Switch to Sanity driver"]}),"\n",(0,r.jsxs)(n.p,{children:["In ",(0,r.jsx)(n.code,{children:".env"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:"BLOG_DRIVER=sanity\nSANITY_PROJECT_ID=...\nSANITY_DATASET=...\nSANITY_TOKEN=...\n"})}),"\n",(0,r.jsx)(n.p,{children:"Now the same public endpoints will read from Sanity instead of your local DB (where implemented)."}),"\n",(0,r.jsx)(n.h2,{id:"10-artisan-commands",children:"10. Artisan Commands"}),"\n",(0,r.jsx)(n.p,{children:"The package includes an Artisan command for verifying dual storage:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"php artisan blog:verify-dual-storage\n"})}),"\n",(0,r.jsx)(n.p,{children:"This command verifies that data is synchronized between database and Sanity (if both are configured)."}),"\n",(0,r.jsx)(n.h2,{id:"11-where-to-look-in-the-code-for-learningdebugging",children:"11. Where to Look in the Code (For Learning/Debugging)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"src/BlogServiceProvider.php"})," \u2014 package registration & bindings"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"src/Blog.php"})," \u2014 core facade-backed class"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"src/Contracts/Repositories/*"})," \u2014 abstraction for data access"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"src/Repositories/Eloquent/*"})," \u2014 Eloquent implementations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"src/Repositories/Sanity/*"})," \u2014 Sanity implementations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"src/Models/*"})," \u2014 Eloquent models (check ",(0,r.jsx)(n.code,{children:"$connection"})," property if using custom connections)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"src/Http/Controllers/Api/*"})," \u2014 API controllers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"src/Http/Resources/*"})," \u2014 JSON",":API"," resources"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"src/Traits/*"})," \u2014 reusable logic (slugs, reading time, authors, cache)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"tests/Feature/*"})," \u2014 best place to see examples of how everything works end-to-end"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Related Documentation:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["See ",(0,r.jsx)(n.a,{href:"Installation-guide",children:"Installation Guide"})," for installation and basic setup"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"12-summary",children:"12. Summary"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"You can install this package into any Laravel 10, 11, or 12 project."}),"\n",(0,r.jsx)(n.li,{children:"It gives you a complete backend blog engine + API."}),"\n",(0,r.jsx)(n.li,{children:"It is designed to be driver-based (DB or Sanity), configurable, and extendable."}),"\n",(0,r.jsx)(n.li,{children:"Frontend/admin UI is up to your application \u2014 this package focuses on backend and API."}),"\n",(0,r.jsx)(n.li,{children:"If you follow the steps above, you can reuse this blog package across many projects with minimal setup."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>d});var i=s(6540);const r={},l=i.createContext(r);function o(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);